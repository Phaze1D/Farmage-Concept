template(name='yieldsUpdate')
  div(class="yields-new")
    +dialogMixin
    
    form(class="js-yields-update-form js-form-event")    
      +PaperHeaderPanel id="right" 
        +PaperHeaderSmall id='right' classes='right-header'
          +PaperButton classes="save-icon-div js-submit-update-yield" raise=0 rippleOn=true submit=true
            i(class="material-icons")
              | check
              
          +PaperButton classes="remove-icon-div js-hide-new js-hide-right" raise=0 rippleOn=true submit=false
            i(class="material-icons")
              | clear
        
        
        +PaperHeaderBig id="right"
          +PaperButton classes="save-icon-div js-submit-update-yield" raise=0 rippleOn=true submit=true
            i(class="material-icons")
              | check
              
          +PaperButton classes="remove-icon-div js-hide-new js-hide-right" raise=0 rippleOn=true submit=false
            i(class="material-icons")
              | clear
        
        +PaperHeaderMain id="right"
          div(class='organization-bottom')
            div(class='input-area')
              div(class='grid-wrapper')
                div(class='col-12 p-right p-left')
                  +PaperInput type="text" name="name" label="Identifier" focusColor="darkblue" size="size-medium" value=yield.name schema=schema
                  
              div(class='grid-wrapper')
                div(class='col-12 p-right p-left')
                  +PaperInput type="textarea" name="notes" label="Notes" focusColor="darkblue" charMax='512' showCount=true value=yield.notes schema=schema
                      
              +eventMixin amountLabel="Amount"
              
              div(class='grid-wrapper')
                div(class='col-12 p-right p-left')
                  div(class='button-wrapper')
                    div(class="resources-b js-dialog-b" data-sub='ingredients' data-many='false')
                      div(class="text-div") Resource
              
              if ingredient.name
                div(class='grid-wrapper')
                  div(class='col-7 p-left unit-div')
                    div(class='provider-info')
                      img(src='/no_image0.png')
                      div(class='p-nsk')
                        div(class='p-name')
                          | #{ingredient.name}
                        div(class='p-description')
                          | #{ingredient.measurement_unit}
                        
                  
              div(class='grid-wrapper')
                div(class='col-12 p-right p-left')
                  +PaperButton raise=0 submit=false rippleOn=true classes="js-show-d button-wrapper"
                    div(class="resources-b js-dialog-b" data-sub='units' data-many='false' error="{{error 'unit_id'}}")
                      div(class="text-div") Unit
                      div(class="icon-div")
                        i(class="material-icons icon") add_circle
                        
                  if error 'unit_id'
                    div(class='err-div')
                      | Unit is required
                        
              div(class='grid-wrapper')
                div(class='col-12 p-right p-left unit-div')
                  div(class='provider-info')
                    div(class='p-nsk')
                      div(class='p-name')
                        | #{unit.name}
                      div(class='p-description')
                        | #{unit.description}
            
